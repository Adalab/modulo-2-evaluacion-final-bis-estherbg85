const l=document.querySelector(".js_book");document.querySelector(".js_count");const i=document.querySelector(".js_save"),u=document.querySelector(".js_restore"),m=document.querySelector(".js_delete"),a=document.querySelector(".js_form"),d=document.querySelector(".js_search"),h=document.querySelector(".js_btnSearch");let s=[],r=0;const v=e=>`
        <li class="js_booksList book_list ${e.added?"selected ":""}" data-id="${e.id}">
            <img class="book_image" src="${e.cover_image}" alt="${e.name}"/>
            <h2 class="book_name">${e.name}</h2> 
            <h4 class="book_author">${e.author}</h4> 
            <button class="js_book_button icon">${e.added?"X":"ðŸ›’"}</button>
        </li>`,n=e=>{let t="";e.forEach(c=>{t+=v(c)}),l.innerHTML=t,document.querySelectorAll(".js_book_button").forEach(c=>{c.addEventListener("click",_)}),k()},_=e=>{const t=parseInt(e.currentTarget.closest("li").getAttribute("data-id")),o=s.find(c=>c.id===t);o&&(o.added?(o.added=!1,r--):(o.added=!0,r++),n(s))},k=()=>{const e=document.querySelector(".js_count");e.textContent=r},f=()=>{const e=s.filter(t=>t.added);localStorage.setItem("savedCart",JSON.stringify(e))},S=()=>{const e=JSON.parse(localStorage.getItem("savedCart"));e&&e.length>0&&(r=e.length,n(e),a&&a.classList.add("hidden"),document.querySelector(".js_book_div").classList.add("divBooks"))},g=()=>{localStorage.removeItem("savedCart"),r=0,s.forEach(e=>{e.added=!1}),a.classList.remove("hidden"),document.querySelector(".js_book_div").classList.remove("divBooks"),n(s)};u.addEventListener("click",S);i.addEventListener("click",f);m.addEventListener("click",g);h.addEventListener("click",e=>{e.preventDefault()});const y=()=>{const e=d.value.toLowerCase().trim(),t=s.filter(o=>o.name.toLowerCase().includes(e));n(t)};d.addEventListener("input",y);fetch("http://beta.adalab.es/resources/apis/books-v1/childrens-books.json").then(e=>e.json()).then(e=>{s=e.map((t,o)=>({id:t.id,name:t.name,author:t.author,cover_image:t.cover_image||"https://static.vecteezy.com/system/resources/previews/007/517/574/large_2x/red-closed-book-school-collection-illustration-cartoon-style-on-a-white-background-vector.jpg",added:!1})),n(s)});
//# sourceMappingURL=main.js.map
